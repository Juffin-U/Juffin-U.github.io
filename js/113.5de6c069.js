"use strict";(self["webpackChunkbooks_agrigator"]=self["webpackChunkbooks_agrigator"]||[]).push([[113],{1113:function(e,o,l){l.r(o),l.d(o,{default:function(){return F}});var a=l(3396),s=l(4870),n=l(7139),t=l(2511),r=l(9242),u=(l(7658),l(541),l(5537));const c=e=>((0,a.dD)("data-v-1e2ce713"),e=e(),(0,a.Cn)(),e),i={key:0,class:"searchedBooks"},v={key:1},d={key:2,class:"searchedCont"},k=c((()=>(0,a._)("div",{class:"arrow-left-top"},null,-1))),h=c((()=>(0,a._)("div",{class:"arrow-left-bottom"},null,-1))),g=[k,h],w={class:"searchedBooks"},p=c((()=>(0,a._)("div",{class:"arrow-right-top"},null,-1))),_=c((()=>(0,a._)("div",{class:"arrow-right-bottom"},null,-1))),b=[p,_];var f={__name:"SliderComponent",props:{searchedBooks:{type:Array,default:()=>[]}},setup(e){const o=e;let l=(0,s.iH)(0),n=(0,s.iH)(0),t=(0,s.iH)([]),r=(0,s.iH)(window.innerWidth);const c=500;l.value=parseInt(r.value/c)-1;for(let a=0;a<=l.value;a++)t.value.push(o.searchedBooks[a]);function k(e){return 0!==e?e-=1:e=o.searchedBooks.length-1,e}function h(e){return e!==o.searchedBooks.length-1?e+=1:e=0,e}function p(){l.value=k(l.value),n.value=k(n.value),t.value.pop(),t.value.unshift(o.searchedBooks[n.value])}function _(){l.value=h(l.value),n.value=h(n.value),t.value.shift(),t.value.push(o.searchedBooks[l.value])}return n.value=0,(e,n)=>o.searchedBooks.length-1<(0,s.SU)(l)?((0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.searchedBooks,(e=>((0,a.wg)(),(0,a.j4)(u.Z,{key:e.id,book:e,class:"searchedBook"},null,8,["book"])))),128))])):(0,s.SU)(r)<800?((0,a.wg)(),(0,a.iD)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.searchedBooks,(e=>((0,a.wg)(),(0,a.j4)(u.Z,{key:e.id,book:e,class:"searchedBook"},null,8,["book"])))),128))])):((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",{onClick:p,class:"arrow-left"},g),(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(t),(e=>((0,a.wg)(),(0,a.j4)(u.Z,{key:e.id,book:e,class:"searchedBook"},null,8,["book"])))),128))]),(0,a._)("div",{onClick:_,class:"arrow-right"},b)]))}},B=l(89);const m=(0,B.Z)(f,[["__scopeId","data-v-1e2ce713"]]);var S=m;const y=["onSubmit"];var C={__name:"SearchComponent",setup(e){let o=(0,s.iH)(""),l=(0,s.iH)("");const u=(0,t.a)(),c=(0,s.iH)([]);function i(){c.value=[],c.value=u.searchBooks(o.value),console.log(c.value.length),l.value=c.value.length+c.value}return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("form",{class:"searchForm",onSubmit:(0,r.iM)(i,["prevent"])},[(0,a.wy)((0,a._)("input",{type:"text",class:"searchInput",placeholder:"Введите название книги","onUpdate:modelValue":t[0]||(t[0]=e=>(0,s.dq)(o)?o.value=e:o=e)},null,512),[[r.nr,(0,s.SU)(o)]])],40,y),(0,a.wy)((0,a._)("h3",null," Найденно книг: "+(0,n.zw)(c.value.length),513),[[r.F8,0!==c.value.length]]),0!==c.value.length?((0,a.wg)(),(0,a.j4)(S,{"searched-books":c.value,key:(0,s.SU)(l),class:"sliderCont"},null,8,["searched-books"])):(0,a.kq)("",!0)],64))}};const H=(0,B.Z)(C,[["__scopeId","data-v-2f8e90da"]]);var D=H,U=l(7494);const Z={class:"search"},j={class:"allBooksCont"},I={class:"booksContainer"};var Y={__name:"SearchView",setup(e){const o=(0,t.a)(),l=(0,U.c)();return console.log(l.books.length),0===l.books.length&&o.getBooksFromServer(),(e,l)=>((0,a.wg)(),(0,a.iD)("div",Z,[(0,a.Wm)((0,s.SU)(D)),(0,a._)("div",j,[(0,a._)("h3",null,"Все книги: "+(0,n.zw)((0,s.SU)(o).books.length),1),(0,a._)("div",I,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(o).books,(e=>((0,a.wg)(),(0,a.j4)((0,s.SU)(u.Z),{key:e.id,book:e,class:"booksComponentContainer"},null,8,["book"])))),128))])])]))}};const K=(0,B.Z)(Y,[["__scopeId","data-v-7bac3011"]]);var F=K}}]);
//# sourceMappingURL=113.5de6c069.js.map